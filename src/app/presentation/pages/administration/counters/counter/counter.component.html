<div class="p-dialog-content">
  <form [formGroup]="FormDesk">
    <div class="formgrid grid">
      <div class="field col-12 md:col-9">
        <label for="name">Nombre</label>
        <input
          id="name"
          type="text"
          class="w-full"
          pInputText
          formControlName="name"
        />
      </div>

      <div class="field col-12 md:col-3">
        <label for="number-desk">Numero</label>
        <p-inputNumber
          styleClass="w-full"
          inputId="number-desk"
          [showButtons]="true"
          formControlName="number"
          [min]="1"
          [max]="999"
          [inputStyle]="{ width: '100%' }"
        />
      </div>

      <div class="field col-12">
        <label for="branch">Sucursal</label>
        @if(!counter){
        <p-dropdown
          id="branch"
          appendTo="body"
          optionLabel="name"
          placeholder="Seleccione la sucursal"
          filterPlaceholder="Nombre de la sucursal"
          emptyFilterMessage="Sin resultados"
          emptyMessage="Busqueda..."
          [style]="{ width: '100%' }"
          [filter]="true"
          [autoOptionFocus]="false"
          [options]="branches()"
          (onFilter)="onFilter($event.filter)"
          (onChange)="onSelect($event.value)"
        />
        } @else {
        <input
          id="branch"
          type="text"
          class="w-full"
          pInputText
          [value]="counter.branch.name"
          [disabled]="true"
        />
        }
      </div>
    </div>
  </form>
  <div class="field">
    <label for="list-services">Servicios</label>
    <p-multiSelect
      appendTo="body"
      [options]="services()"
      [(ngModel)]="selectedServices"
      [style]="{ width: '100%' }"
      [disabled]="!FormDesk.get('branch')?.value"
      optionLabel="name"
      placeholder="Servicios asignados"
      selectedItemsLabel="{0} servicios seleccionados"
      emptyFilterMessage="Sin resultados"
      display="chip"
    />
  </div>
</div>
<div class="p-dialog-footer">
  <p-button label="Guardar" [disabled]="!isFormValid" (onClick)="save()" />
</div>
